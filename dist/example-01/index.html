<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>First Example</title>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <div class="container">
      <div class="row align-items-center m-5">
        <h1>K-POP Idols</h1>

        <p id="showData"></p>
      </div>
    </div>
    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous"
    ></script>
    <script>
      let outputTable = "";
      let idols = [
        {
          Nickname: "Karina",
          Name: "Yu Ji-min",
          Group: "aespa",
          Age: 22,
          Image:
            "https://static.wikia.nocookie.net/kpop/images/8/83/GOT_the_beat_Karina_Step_Back_concept_photo_1.png",
        },
        {
          Nickname: "Giselle",
          Name: "Uchinaga Eri",
          Group: "aespa",
          Age: 21,
          Image:
            "https://static.wikia.nocookie.net/kpop/images/e/ef/Aespa_Giselle_SMTOWN_2022_SMCU_Express_teaser_photo_%282%29.png",
        },
        {
          Nickname: "Winter",
          Name: "Kim Min-jeong",
          Group: "aespa",
          Age: 21,
          Image:
            "https://static.wikia.nocookie.net/kpop/images/b/b1/GOT_the_beat_Winter_Step_Back_concept_photo_1.png",
        },
        {
          Nickname: "Ningning",
          Name: "Níng Yìzhuō",
          Group: "aespa",
          Age: 19,
          Image:
            "https://static.wikia.nocookie.net/kpop/images/0/02/Aespa_Ningning_SMTOWN_2022_SMCU_Express_teaser_photo_%282%29.png",
        },
      ];

      let col = [];
      for (let i =0; i < idols.length; i++) {
        for (let key in idols[i]) {
          if (col.indexOf(key) === -1) {
            col.push(key);
          }
        }
      }

      let table = document.createElement("table");
      table.setAttribute('class', 'table')

      let tr = table.insertRow(-1);

      for (let i = 0; i < col.length; i++) {
          const th = document.createElement("th");
          th.innerHTML = col[i];
          tr.appendChild(th);
      }

      for (let i = 0; i < idols.length; i++) {
          tr = table.insertRow(-1);

          for (let j = 0; j < col.length; j++) {
              const tabCell = tr.insertCell(-1);
              if (col[j] === "Image") {
                let img = document.createElement("img");
                img.setAttribute('src', idols[i][col[j]]);
                tabCell.appendChild(img);
              } else {
                tabCell.innerHTML = idols[i][col[j]];
              }
          }
      }

      let divContainer = document.getElementById("showData");
      divContainer.innerHTML = "";
      divContainer.appendChild(table);

      // output table
    </script>
  </body>
</html>
